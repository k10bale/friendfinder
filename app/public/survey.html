<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Survey</title>

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.2/css/all.css" integrity="sha384-/rXc/GQVaYpyDdyxK+ecHPVYJSN9bmVFBvjA/9eOB+pb3F2w2N6fc5qB9Ew5yIns" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.jquery.min.js"></script>
  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
      

 
</head>
<body>
<div class = "container">
<h1> Survey Questions </h1>
<hr>
<h2>About You</h2>
<h4>Name (Required)</h4>
<input class="form-control" type="text" id="name" required>
<h4>Link to Your Photo (Required)<i class="fas fa-camera"></i></h4>
<input class="form-control" type="text" name="photo" id="photo" required>
<hr>

<h2>Question 1</h2>
<h4>You prefer to Netflix & chill over hitting up the club.</h4>
<select class="chosen-select" id="q1" style= "width: 155px;" required>
        <option value="">Select Option</option>
        <option value="1">1 (Strongly Disagree</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (Strongly Agree</option>
      </select>
<br>
<br>

<h2>Question 2</h2>
<h4>Dogs are preferable to humans.</h4>
<select class="chosen-select" id="q2" style= "width: 155px;" required>
        <option value="">Select Option</option>
        <option value="1">1 (Strongly Disagree</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (Strongly Agree</option>
      </select>
<br>
<br>

<h2>Question 3</h2>
<h4>80s music is the best music.</h4>
<select class="chosen-select" id="q3" style= "width: 155px;" required>
        <option value="">Select Option</option>
        <option value="1">1 (Strongly Disagree</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (Strongly Agree</option>
      </select>
<br>
<br>      

<h2>Question 4</h2>
<h4>You often find yourself not caring what anyone thinks of you.</h4>
<select class="chosen-select" id="q4" style= "width: 155px;" required>
        <option value="">Select Option</option>
        <option value="1">1 (Strongly Disagree</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (Strongly Agree</option>
      </select>
<br>
<br>      

<h2>Question 5</h2>
<h4>Pineapples belong on pizza.</h4>
<select class="chosen-select" id="q5" style= "width: 155px;" required>
        <option value="">Select Option</option>
        <option value="1">1 (Strongly Disagree</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (Strongly Agree</option>
      </select>
<br>
<br>

<h2>Question 6</h2>
<h4>Blink182 is trash without Tom.</h4>
<select class="chosen-select" id="q6" style= "width: 155px;" required>
        <option value="">Select Option</option>
        <option value="1">1 (Strongly Disagree</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (Strongly Agree</option>
      </select>
<br>
<br>

<h2>Question 7</h2>
<h4>Sleeping is fun.</h4>
<select class="chosen-select" id="q7" style= "width: 155px;" required>
        <option value="">Select Option</option>
        <option value="1">1 (Strongly Disagree</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (Strongly Agree</option>
      </select>
<br>
<br>

<h2>Question 8</h2>
<h4>Hiking, swimming, & snorkeling are some of the best outdoor activities.</h4>
<select class="chosen-select" id="q8" style= "width: 155px;" required>
        <option value="">Select Option</option>
        <option value="1">1 (Strongly Disagree</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (Strongly Agree</option>
      </select>
<br>
<br>   

<h2>Question 9</h2>
<h4>Good grammar is highly important.</h4>
<select class="chosen-select" id="q9" style= "width: 155px;" required>
        <option value="">Select Option</option>
        <option value="1">1 (Strongly Disagree</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (Strongly Agree</option>
      </select>
<br>
<br>

<h2>Question 10</h2>
<h4>Aliens exist.</h4>
<select class="chosen-select" id="q10" style= "width: 155px;" required>
        <option value="">Select Option</option>
        <option value="1">1 (Strongly Disagree</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (Strongly Agree</option>
      </select>
<br>
<br>
<br>
<button class="btn btn-primary btn-lg btn-block" type="submit" value="Submit" id="submit">
        <i class="fas fa-dice"></i> Submit 
</button>

<hr>


 
    <footer class="footer">
            <div class="container">
              <p><a href="/api/friends">API Friends List</a> | 
            </div>
          </footer> 
          <div id="modal1" class="modal fade" tabindex="-1" role= "dialog" aria-hidden="true">
             <div class="modal-dialog modal-dialog-centered" role="document">
                   <div class="modal-content" >
                    <div class="modal-header">
                        <h3 class="modal-title">Most Compatible Match</h3>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"> 
                              <span aria-hidden="true">&times;</span>
                        </button>
                        </div>
                  <div class="modal-body">
                        <h3 id="matchName">Name:</h3>
                        <img id="matchImage" src="" alt="">
                       </div>
                       <div class="modal-footer">
                             <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                       </div>
                 </div>
           </div>
           </div>
<script type="text/javascript">
           
      $("#submit").on("click", function (event) {
             event.preventDefault();
           
            function validateForm() {
            var isValid = true;
            $(".form-control").each(function() {
            if ($(this).val() === "") {
            isValid = false;
      }
 });
      $(".chosen-select").each(function() {
           
                          
            if ($(this).val() === "") {
             isValid = false;
      }
});
            return isValid;
      }
           
      if (validateForm()) { 
      // Here we grab the form elements
      var user = {
            name: $("#name").val().trim(),
            photo: $("#photo").val().trim(),
            scores:[ 
                         $("#q1").val(),
                         $("#q2").val(),
                        $("#q3").val(),
                        $("#q4").val(),
                        $("#q5").val(),
                        $("#q6").val(),
                        $("#q7").val(),
                        $("#q8").val(),
                        $("#q9").val(),
                        $("#q10").val()
                        ]
                        };
                 
           
                      
                 //adds users inputs to friends list

$.post("/api/friends", user,
                  function (data) {
                  $("#matchName").text(data.name);
                  $("#matchImage").attr("src", data.photo);
                  $('#modal1').modal('toggle');
                             
                       $("#name").val("");
                       $("#photo").val("");
                       $("#q1").val("");
                       $("#q2").val("");
                       $("#q3").val("");
                       $("#q4").val("");
                       $("#q5").val("");
                       $("#q6").val("");
                       $("#q7").val("");
                       $("#q8").val("");
                       $("#q9").val("");
                       $("#q10").val("");
                                
                 });
           
           } else {
                 alert("Please fill out all fields!")
           }
           return false;
                       });
                 
</script> 

</body>
</html>
